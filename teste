import requests

# Replace with your Cognitive Services Translator API endpoint and subscription key
endpoint = "https://api.cognitive.microsofttranslator.com/"
subscription_key = "d8607f98d0c7477f91f0c30e42329152"
region = "eastus"

# Text to be translated
text_to_translate = "Hello, how are you?"

# Language code for the target language (e.g., "en" for English)
target_language = "pt-br"  # Replace with your target language code

# Construct the API request URL
api_url = f"{endpoint}/translate?api-version=3.0&to={target_language}"

# Define the request headers
headers = {
    "Ocp-Apim-Subscription-Key": subscription_key,
    "Ocp-Apim-Subscription-Region": region,
    "Content-Type": "application/json",
}

# Define the request body
body = [
    {"text": text_to_translate}
]

# Make the POST request to the Translator Text API
response = requests.post(api_url, headers=headers, json=body)

# Check if the request was successful
if response.status_code == 200:
    # Parse and print the translated text
    translation = response.json()
    translated_text = translation[0]["translations"][0]["text"]
    print(f"Original text: {text_to_translate}")
    print(f"Translated text: {translated_text}")
else:
    # Print an error message if the request failed
    print(f"Translation failed with status code: {response.status_code}")
    print(response.text)
